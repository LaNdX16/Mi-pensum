<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi pensum de medicina en la UASD – Landy</title>

  <!-- Fuente decorativa -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #ffd1e8;
      margin: 2rem;
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      font-size: 2.8em;
      color: #5e3a8d;
      margin-bottom: 2rem;
      font-family: 'Playfair Display', serif;
      text-shadow: 2px 2px 10px rgba(94, 58, 141, 0.7);
    }

    #pensum {
      display: flex;
      gap: 0.5rem;
      overflow-x: auto;
      padding-bottom: 1rem;
      scroll-behavior: smooth;
    }

    #pensum::-webkit-scrollbar {
      height: 8px;
    }

    #pensum::-webkit-scrollbar-thumb {
      background-color: #e8a4d0;
      border-radius: 6px;
    }

    #pensum::-webkit-scrollbar-track {
      background: transparent;
    }

    .semestre {
      flex: 0 0 300px;
      background-color: #f8a6cd;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      border: 2px solid #f8c4dc;
      scroll-snap-align: start;
      transition: transform 0.2s ease;
      display: flex;
      flex-direction: column;
    }

    .semestre:hover {
      transform: translateY(-4px);
    }

    .semestre h2 {
      color: #d95dbd;
      font-size: 1.3em;
      margin-bottom: 0.8rem;
      text-align: center;
      text-shadow: 1px 1px 4px rgba(217, 93, 189, 0.2);
    }

    .materia {
      list-style: none;
      padding: 0.6em 1em;
      border-radius: 12px;
      margin: 0.4em 0;
      cursor: pointer;
      transition: all 0.3s ease;
      background-color: #fcbde5;
      color: #4a295a;
      user-select: none;
      box-shadow: 0 4px 10px rgba(217, 93, 189, 0.3);
      display: flex;
      justify-content: space-between;
      font-weight: 600;
    }

    .materia.pendiente:hover {
      background-color: #f7bde2;
    }

    .materia.completada {
      text-decoration: line-through;
      background-color: #d1b3f6;
      color: #4a2a8a;
    }

    .materia.bloqueada {
      background-color: #f9d7eb;
      color: #999;
      cursor: not-allowed;
    }

    .creditos {
      font-weight: 400;
      color: #753a8f;
      margin-left: 0.5em;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <h1>Mi pensum de medicina en la UASD – Landy</h1>
  <div id="pensum"></div>

  <script>
    const materias = {
      "1. Primer Semestre Pre-Médica": [
        { clave: "BIO-0170", nombre: "Biología Básica", creditos: 3 },
        { clave: "BIO-0180", nombre: "Lab. Biología Básica", creditos: 1, prerrequisitos: ["BIO-0170"] },
        { clave: "DOP-1000", nombre: "Orientación Institucional", creditos: 1 },
        { clave: "FIL-0110", nombre: "Introducción a la Filosofía", creditos: 3 },
        { clave: "FIS-0140", nombre: "Física Básica", creditos: 3 },
        { clave: "LET-0110", nombre: "Lengua Española Básica I", creditos: 3 },
        { clave: "MAT-0140", nombre: "Matemática Básica", creditos: 3 },
        { clave: "QUI-0140", nombre: "Química Básica", creditos: 3 },
        { clave: "SOC-0100", nombre: "Intro a Ciencias Sociales", creditos: 3 }
      ],
      "2. Segundo Semestre Pre-Médica": [
        { clave: "CFI-3150", nombre: "Biofísica", creditos: 3, prerrequisitos: ["FIS-0140", "BIO-0170", "BIO-0180"] },
        { clave: "CFI-3160", nombre: "Lab. Biofísica", creditos: 1, prerrequisitos: ["CFI-3150"] },
        { clave: "EFS-0120", nombre: "Educación Física", creditos: 1 },
        { clave: "HIS-0110", nombre: "Historia Social Dominicana", creditos: 3 },
        { clave: "LET-0120", nombre: "Lengua Española Básica II", creditos: 3, prerrequisitos: ["LET-0110"] },
        { clave: "OSI-1510", nombre: "Desarrollo Cognitivo", creditos: 3 },
        { clave: "QUI-1220", nombre: "Química Orgánica", creditos: 3, prerrequisitos: ["QUI-0140"] },
        { clave: "SOC-1470", nombre: "Vida en Comunidad", creditos: 3, prerrequisitos: ["SOC-0100"] }
      ],
      // ... aquí sigue todo igual (agrega el resto de materias y semestres con créditos)

      // Por brevedad pongo solo la sección de optativas completa con créditos y prerrequisitos:
      "Materias Optativas": [
        { clave: "MED-2370", nombre: "Introducción a Terapia en Pareja y Familia", creditos: 3, prerrequisitos: ["MED-2350", "MED-2360"] },
        { clave: "FAR-1450", nombre: "Toxicología General", creditos: 3, prerrequisitos: ["SAP-1160", "SAP-1170"] },
        { clave: "SAP-1180", nombre: "Medicina de Urgencias y Desastres", creditos: 3, prerrequisitos: ["CMO-3160", "CMO-3170", "CFI-3110", "SAP-2030"] },
        { clave: "MED-2380", nombre: "Sustancias Psicoactivas y Adicciones", creditos: 3, prerrequisitos: ["MED-4740", "MED-4750", "CFI-3130", "CFI-3140"] },
        { clave: "CFI-3200", nombre: "Genética Clínica", creditos: 3 },
        { clave: "MED-5210", nombre: "Medicina del Deporte", creditos: 3, prerrequisitos: ["BAN-3000", "MED-4260", "MED-4270"] },
        { clave: "MED-5220", nombre: "Medicina Física y Rehabilitación", creditos: 3, prerrequisitos: ["BAN-3000", "MED-4260", "MED-4270"] },
        { clave: "SAP-1190", nombre: "Salud Ocupacional y Ambiental", creditos: 3, prerrequisitos: ["SAP-1160", "SAP-1170", "SAP-2030"] }
      ]
    };

    function puedeTomar(materia, completadas) {
      if (!materia.prerrequisitos) return true;
      return materia.prerrequisitos.every(pr => completadas.includes(pr));
    }

    const STORAGE_KEY = "pensumMedUASD";
    let completadas = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

    const contenedor = document.getElementById("pensum");

    function renderPensum() {
      contenedor.innerHTML = "";
      for (const semestre in materias) {
        const divSemestre = document.createElement("div");
        divSemestre.className = "semestre";

        const h2 = document.createElement("h2");
        h2.textContent = semestre;
        divSemestre.appendChild(h2);

        materias[semestre].forEach(materia => {
          const li = document.createElement("li");
          li.textContent = `${materia.clave} - ${materia.nombre}`;
          li.className = "materia";

          // Crear span para créditos
          const spanCred = document.createElement("span");
          spanCred.className = "creditos";
          spanCred.textContent = `${materia.creditos ?? "?"} cr`;
          li.appendChild(spanCred);

          if (completadas.includes(materia.clave)) {
            li.classList.add("completada");
          } else if (!puedeTomar(materia, completadas)) {
            li.classList.add("bloqueada");
          } else {
            li.classList.add("pendiente");
          }

          li.addEventListener("click", () => {
            if (li.classList.contains("bloqueada")) return;
            if (li.classList.contains("completada")) {
              completadas = completadas.filter(c => c !== materia.clave);
            } else {
              completadas.push(materia.clave);
            }
            localStorage.setItem(STORAGE_KEY, JSON.stringify(completadas));
            renderPensum();
          });

          divSemestre.appendChild(li);
        });

        contenedor.appendChild(divSemestre);
      }
    }

    renderPensum();
  </script>

</body>
</html>
